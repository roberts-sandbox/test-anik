<!DOCTYPE html>
<html>
	<head>
		<link type="text/css" rel="stylesheet" href="/css/base.css">
		<link type="text/css" rel="stylesheet" href="/css/site.css">
		<title>OO in Interview Stories - Classes Protect Invariants</title>
	</head>
	<body>
		<div class="main yui3-g">
			<div class="content yui3-u-2-3">
				<h1 id='oo_in_interview_stories__classes_protect_invariants'>OO in Interview Stories - Classes Protect Invariants</h1>

<p class='subtitle'>During which, a recently-gradudated interview candidate and I figure out one of the basic aspects of object-oriented design.</p>
<hr />
<p>I interviewed a recent college graduate, today. He attended the Texas A&amp;M. That&#8217;s a good school, from what I understand. The inventor of C++ teaches there. The inventor of C++, the language that popularized object-oriented programming. That sounds like a pretty good place to earn one&#8217;s Bachelor&#8217;s degree in Computer Science. As a student there, maybe you&#8217;ll learn more than data structure and algorithms. Maybe, you&#8217;ll learn a little object-oriented design.</p>

<p>Seems not so much.</p>

<p>Now, I don&#8217;t run my interviews like most people. I like to think that when someone interviews with me, they walk away knowing more about programming than when they walked into the room with the white board. Since I work in a shop that uses C#, C++, and Python, I want to write code with other programmers that can express the code they write in too little time in nice class definitions that promote maintenance. I don&#8217;t want to work with programmers that think procedurally. I don&#8217;t want to work with programmers that interrogate rather than command.</p>

<p>Since the kid had only the most rudimentary OO skills, I crafted a forum that would walk us through basic OOD. He listed Python, C, C++, Java, and Lisp as the languages that he knew. I asked him to write on the whiteboard compilable Hello World programs in all five of the languages. He succeeded by writing correct programs in all of the languages but LISP.</p>

<p>Then, I wrote on the board <code>addToTwo(num:int):int</code> and asked him to write compilable programs in the four languages with which he succeeded to answer the previous question. He succeeded with C (and, therefore C++). I helped him get through the Java and Python implementations.</p>

<p>We moved on to classes and, with a little help, he wrote some declarations on the board for the <code>AddToTwo</code> class. I completed this exercise with a little speech about OO.</p>

<blockquote>
<p>When higher-level languages came about, like C, data was king. You declared your data structure and passed it around to methods that could change that data, make new data, save the data, do stuff with the data. Eventually, in large software systems, the code that changed the data spread out over numerous modules. Figuring out the side effects of those methods became to much to maintain.</p>

<p>Object-oriented programming turned that around and specified that behavior is the most important. Classes define the behavior of the system and hide the data. They entangle the two so we can better maintain our software. It provides us with better code organization. A class protects its data, its state, through the methods that you provide. A class will prevent outside code from changing its state incorrectly.</p>

<p>Lots of OO programmers forget this and treat their objects as structures with little or no behavior. This leads to where we were back in the C days.</p>

<p>This interview will test your ability to use the OO training you received in school and that you&#8217;ll learn during this interview. Remember, in OO, behavior is king.</p>
</blockquote>

<p>&#8220;So, interview candidate,&#8221; I said, &#8220;you now work at a zoo. You build software to manage the animals&#8217; information at the zoo. What&#8217;s your favorite animal?&#8221;</p>

<p>&#8220;Um, the giraffe.&#8221; On the white board, I wrote:</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Giraffe</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='s'>&#39;mrmmph&#39;</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>True</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='p'>[</span><span class='n'>Giraffe</span><span class='p'>()]:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
</code></pre>
</div>
<p>I asked him to write a class definition for his least favorite animal and add to the loop. He responded with the following code.</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Rat</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='s'>&#39;squeak&#39;</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>True</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='p'>[</span><span class='n'>Giraffe</span><span class='p'>(),</span> <span class='n'>Rat</span><span class='p'>()]:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
</code></pre>
</div>
<p>After complimenting him, I wrote class definitions for <code>Whale</code> and <code>Spider</code>.</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Whale</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='s'>&#39;splash&#39;</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>True</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Spider</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='s'>&#39;*silence*&#39;</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>False</span>
</code></pre>
</div>
<p>I also extended the loop.</p>
<div class='highlight'><pre><code class='python'><span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='p'>[</span><span class='n'>Giraffe</span><span class='p'>(),</span> <span class='n'>Rat</span><span class='p'>(),</span> <span class='n'>Whale</span><span class='p'>(),</span> <span class='n'>Spider</span><span class='p'>()]:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
<span class='c'># prints: splash True</span>
<span class='c'># prints: *silence* True</span>
</code></pre>
</div>
<p>&#8220;Now,&#8221; I asked, &#8220;what do you think of all of these classes?&#8221;</p>

<p>&#8220;I don&#8217;t like them,&#8221; he replied.</p>

<p>&#8220;What should we do about it?&#8221;</p>

<p>He thought for the briefest moment. &#8220;I think we should have one animal class!&#8221;</p>

<p>&#8220;Okay. Show me.&#8221;</p>

<p>He erased what we had and replaced it with something similar to this.</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Animal</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>,</span> <span class='n'>sound</span><span class='p'>,</span> <span class='n'>vertebrate</span><span class='p'>):</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span> <span class='o'>=</span> <span class='n'>sound</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_vertebrate</span> <span class='o'>=</span> <span class='n'>vertebrate</span>

  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_vertebrate</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='n'>giraffe</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;mrmmph&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>rat</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;squeak&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>whale</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;splash&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>spider</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>,</span> <span class='bp'>False</span><span class='p'>)</span>

<span class='n'>animals</span> <span class='o'>=</span> <span class='p'>[</span><span class='n'>giraffe</span><span class='p'>,</span> <span class='n'>rat</span><span class='p'>,</span> <span class='n'>whale</span><span class='p'>,</span> <span class='n'>spider</span><span class='p'>]</span>
<span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='n'>animals</span><span class='p'>:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
<span class='c'># prints: splash True</span>
<span class='c'># prints: *silence* False</span>
</code></pre>
</div>
<p>&#8220;Great&#8221; I said, though I didn&#8217;t mean it. &#8220;The thing is, they hired another programmer and he started today. He&#8217;s the zoo&#8217;s owner&#8217;s wife&#8217;s nephew. At the same time, the zoo acquired a meerkat and your boos told Jerry (that&#8217;s the kid&#8217;s name, Jerry) to add it to the system. Jerry went ahead and included the new meerkat in the system.&#8221;</p>
<div class='highlight'><pre><code class='python'><span class='n'>giraffe</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;mrmmph&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>rat</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;squeak&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>whale</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;splash&#39;</span><span class='p'>,</span> <span class='bp'>True</span><span class='p'>)</span>
<span class='n'>spider</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>,</span> <span class='bp'>False</span><span class='p'>)</span>
<span class='n'>meerkat</span> <span class='o'>=</span> <span class='n'>Animal</span><span class='p'>(</span><span class='s'>&#39;hakuna matata&#39;</span><span class='p'>,</span> <span class='bp'>False</span><span class='p'>)</span>

<span class='n'>animals</span> <span class='o'>=</span> <span class='p'>[</span><span class='n'>giraffe</span><span class='p'>,</span> <span class='n'>rat</span><span class='p'>,</span> <span class='n'>whale</span><span class='p'>,</span> <span class='n'>spider</span><span class='p'>,</span> <span class='n'>meerkat</span><span class='p'>]</span>
<span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='n'>animals</span><span class='p'>:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
<span class='c'># prints: splash True</span>
<span class='c'># prints: *silence* False</span>
<span class='c'># prints: hakuna matata False</span>
</code></pre>
</div>
<p>&#8220;Candidate, what&#8217;s wrong with his code?&#8221;</p>

<p>&#8220;Well, a meerkat has a spine.&#8221;</p>

<p>&#8220;Yep, that&#8217;s right. How do we fix it?&#8221;</p>

<p>&#8220;That&#8217;s easy. Just make that &#8216;false&#8217; a &#8216;true&#8217;.&#8221;</p>

<p>&#8220;I agree, that fixes the program. But, it does not fix the design. Jerry can still make the same mistake. We may miss it, the code could go into production! Then, some poor second grade girl will think that a meerkat and a crab have something more in common than starring in Disney movies.&#8221;</p>

<p>&#8220;Yeah, I see that&#8230;.&#8221; Together, we pondered the board, he and I. Ostensibly, he thought about a better design. I thought about getting some falafel. Finally, he said, &#8220;Well, we can make two classes, then.&#8221; He set about writing.</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Vertebrate</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>,</span> <span class='n'>sound</span><span class='p'>):</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span> <span class='o'>=</span> <span class='n'>sound</span>

  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>True</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Invertebrate</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>,</span> <span class='n'>sound</span><span class='p'>):</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span> <span class='o'>=</span> <span class='n'>sound</span>

  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>False</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='n'>giraffe</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;mrmmph&#39;</span><span class='p'>)</span>
<span class='n'>rat</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;squeak&#39;</span><span class='p'>)</span>
<span class='n'>whale</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;splash&#39;</span><span class='p'>)</span>
<span class='n'>spider</span> <span class='o'>=</span> <span class='n'>Invertebrate</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>)</span>
<span class='n'>meerkat</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;hakuna matata&#39;</span><span class='p'>)</span>

<span class='n'>animals</span> <span class='o'>=</span> <span class='p'>[</span><span class='n'>giraffe</span><span class='p'>,</span> <span class='n'>rat</span><span class='p'>,</span> <span class='n'>whale</span><span class='p'>,</span> <span class='n'>spider</span><span class='p'>,</span> <span class='n'>meerkat</span><span class='p'>]</span>
<span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='n'>animals</span><span class='p'>:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
<span class='c'># prints: splash True</span>
<span class='c'># prints: *silence* False</span>
<span class='c'># prints: hakuna matata False</span>
</code></pre>
</div>
<p>&#8220;Now, he can&#8217;t make a mistake.&#8221;</p>

<p>&#8220;Good,&#8221; I encouraged him. &#8220;Unfortunately, after a night of partying, Jerry comes in and finds a note that reads, &#8216;Jerry, we just bought a cat. Can you put it in the software for us?&#8217; And, so, he does. Somewhat worse for the wear, he copies the rat implementation and pastes it at the end like this.&#8221;</p>
<div class='highlight'><pre><code class='python'><span class='n'>giraffe</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;mrmmph&#39;</span><span class='p'>)</span>
<span class='n'>rat</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;squeak&#39;</span><span class='p'>)</span>             <span class='c'># Copy</span>
<span class='n'>whale</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;splash&#39;</span><span class='p'>)</span>
<span class='n'>spider</span> <span class='o'>=</span> <span class='n'>Invertebrate</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>)</span>
<span class='n'>meerkat</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;hakuna matata&#39;</span><span class='p'>)</span>
<span class='n'>cat</span> <span class='o'>=</span> <span class='n'>Vertebrate</span><span class='p'>(</span><span class='s'>&#39;squeak&#39;</span><span class='p'>)</span>             <span class='c'># Paste</span>

<span class='n'>animals</span> <span class='o'>=</span> <span class='p'>[</span><span class='n'>giraffe</span><span class='p'>,</span> <span class='n'>rat</span><span class='p'>,</span> <span class='n'>whale</span><span class='p'>,</span> <span class='n'>spider</span><span class='p'>,</span> <span class='n'>meerkat</span><span class='p'>,</span> <span class='n'>cat</span><span class='p'>]</span>
<span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='n'>animals</span><span class='p'>:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: mrmmph True</span>
<span class='c'># prints: squeak True</span>
<span class='c'># prints: splash True</span>
<span class='c'># prints: *silence* False</span>
<span class='c'># prints: hakuna matata False</span>
<span class='c'># prints: squeak True</span>
</code></pre>
</div>
<p>&#8220;Then, he packs up and goes home to take some aspirin.&#8221; The candidate looked a little put out, at this point. &#8220;I know that you wouldn&#8217;t abide such a co-worker. However, Jerry enjoys the security of nepitism. So, how can you fix this?&#8221;</p>

<p>(Here&#8217;s where it all fell apart for me.)</p>

<p>&#8220;Well, we could somehow track each sound that&#8217;s been used to create an animal. Then, we can &#8230; prevent other animals from getting created that way.&#8221;</p>

<p>&#8220;What happens when the zoo wants to buy another giraffe so that it can have a renewable supply of giraffes, a family of giraffes with little giraffe babies? We&#8217;ll need more than one giraffe in the system, then.&#8221;</p>

<p>&#8220;Right, but &#8230; oh. Ok, we can &#8230;&#8221; He went on to explain in ever-confusing terms about how we could only assign instances of <code>Vertebrate</code> that make the &#8216;mrmmph&#8217; sound to variables named &#8220;giraffe.&#8221;</p>

<p>I stopped him. &#8220;What you&#8217;re proposing goes way beyond object-oriented design. Let&#8217;s just stand back for a moment. What sound do all rats make?&#8221;</p>

<p>&#8220;&#8216;Squeak.&#8217;&#8221;</p>

<p>&#8220;Right. And, what sound do all cats make, assuming they don&#8217;t have laryngitis?&#8221;</p>

<p>&#8220;&#8216;Meow.&#8217;&#8221;</p>

<p>&#8220;Right. So, doesn&#8217;t it make sense that we have classes that control that? That we have a &#8216;cat&#8217; class that knows that it meows because it controls that piece of information? Remember, classes are about behavior.&#8221;</p>

<p>&#8220;Yeah, I can see that.&#8221;</p>

<p>&#8220;So, let&#8217;s do that. Does a cat have a spine?&#8221;</p>

<p>&#8220;Yes.&#8221;</p>

<p>&#8220;Ok. We can make a &#8216;cat&#8217; class, then, that uses the &#8216;vertebrate&#8217; class. Go ahead and write that on the board. And, while you&#8217;re at it, write a new &#8216;spider&#8217; class, too.&#8221;</p>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Cat</span><span class='p'>(</span><span class='n'>Vertebrate</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='nb'>super</span><span class='p'>(</span><span class='n'>Cat</span><span class='p'>,</span> <span class='bp'>self</span><span class='p'>)</span><span class='o'>.</span><span class='n'>__init__</span><span class='p'>(</span><span class='s'>&#39;meow&#39;</span><span class='p'>)</span>
</code></pre>
</div><div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Spider</span><span class='p'>(</span><span class='n'>Invertebrate</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='nb'>super</span><span class='p'>(</span><span class='n'>Spider</span><span class='p'>,</span> <span class='bp'>self</span><span class='p'>)</span><span class='o'>.</span><span class='n'>__init__</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>)</span>
</code></pre>
</div>
<p>&#8220;Good! Now, modify the printing code that we had for these two animals.&#8221;</p>
<div class='highlight'><pre><code class='python'><span class='n'>cat</span> <span class='o'>=</span> <span class='n'>Cat</span><span class='p'>()</span>
<span class='n'>spider</span> <span class='o'>=</span> <span class='n'>Spider</span><span class='p'>()</span>

<span class='n'>animals</span> <span class='o'>=</span> <span class='p'>[</span><span class='n'>cat</span><span class='p'>,</span> <span class='n'>spider</span><span class='p'>]</span>
<span class='k'>for</span> <span class='n'>animal</span> <span class='ow'>in</span> <span class='n'>animals</span><span class='p'>:</span>
  <span class='k'>print</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>sound</span><span class='p'>(),</span> <span class='n'>animal</span><span class='o'>.</span><span class='n'>vertebrate</span>

<span class='c'># prints: meow True</span>
<span class='c'># prints: *silence* False</span>
</code></pre>
</div>
<p>&#8220;Excellent! Now, let&#8217;s evaluate our code. First, can we understand it?&#8221;</p>

<p>&#8220;Yes.&#8221;</p>

<p>&#8220;I agree. Can Jerry mess it up through his inattention?&#8221;</p>

<p>&#8220;No.&#8221;</p>

<p>&#8220;Then, we&#8217;ve come up with something good, then. Our classes protect the data that they need to maintain their identity. In other words, each class protects its invariants. Well done, Interview Candidate.&#8221;</p>
<hr />
<h2 id='our_final_code'>Our Final Code</h2>
<div class='highlight'><pre><code class='python'><span class='k'>class</span> <span class='nc'>Vertebrate</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>,</span> <span class='n'>sound</span><span class='p'>):</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span> <span class='o'>=</span> <span class='n'>sound</span>

  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>True</span>

<span class='k'>class</span> <span class='nc'>Invertebrate</span><span class='p'>(</span><span class='nb'>object</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>,</span> <span class='n'>sound</span><span class='p'>):</span>
    <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span> <span class='o'>=</span> <span class='n'>sound</span>

  <span class='k'>def</span> <span class='nf'>sound</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>self</span><span class='o'>.</span><span class='n'>_sound</span>

  <span class='k'>def</span> <span class='nf'>vertebrate</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='k'>return</span> <span class='bp'>False</span>

<span class='k'>class</span> <span class='nc'>Cat</span><span class='p'>(</span><span class='n'>Vertebrate</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='nb'>super</span><span class='p'>(</span><span class='n'>Cat</span><span class='p'>,</span> <span class='bp'>self</span><span class='p'>)</span><span class='o'>.</span><span class='n'>__init__</span><span class='p'>(</span><span class='s'>&#39;meow&#39;</span><span class='p'>)</span>

<span class='k'>class</span> <span class='nc'>Spider</span><span class='p'>(</span><span class='n'>Invertebrate</span><span class='p'>):</span>
  <span class='k'>def</span> <span class='nf'>__init__</span><span class='p'>(</span><span class='bp'>self</span><span class='p'>):</span>
    <span class='nb'>super</span><span class='p'>(</span><span class='n'>Spider</span><span class='p'>,</span> <span class='bp'>self</span><span class='p'>)</span><span class='o'>.</span><span class='n'>__init__</span><span class='p'>(</span><span class='s'>&#39;*silence*&#39;</span><span class='p'>)</span>
</code></pre>
</div>
<p>Of course, the interview wasn&#8217;t over. Because, we then talked about <a href='/2011/12/07/ramble.html' title='refactoring'>refactoring</a>.</p>
			</div>
		<div>
	</body>
</html>